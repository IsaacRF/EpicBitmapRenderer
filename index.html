<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>EpicBitmapRenderer by IsaacRF</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">EpicBitmapRenderer</h1>
      <h2 class="project-tagline">Decode and render Bitmaps the epic and easy way, creating faster Android apps without extra effort.</h2>
      <a href="https://github.com/IsaacRF/EpicBitmapRenderer" class="btn">View on GitHub</a>
      <a href="https://github.com/IsaacRF/EpicBitmapRenderer/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/IsaacRF/EpicBitmapRenderer/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="epicbitmaprenderer" class="anchor" href="#epicbitmaprenderer" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EpicBitmapRenderer</h1>

<p>
Decode and render Bitmaps the epic and easy way, creating faster Android apps without extra effort.
</p>

<h2>
<a id="epic-bitmap-renderer-the-outofmemoryerror-slayer" class="anchor" href="#epic-bitmap-renderer-the-outofmemoryerror-slayer" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Epic Bitmap Renderer, the outOfMemoryError slayer</h2>

<p>
This Android Bitmap decoder library follows the Google conventions for displaying bitmaps efficiently
(see <a href="https://developer.android.com/training/displaying-bitmaps/index.html?hl=es">Google guide</a> for more info), offering these features:
</p>

<ul>
    <li>
        <b>Exposes static asynchronous</b> (and synchronous too, just in case you need it) <b>methods</b> to decode Bitmap objects from different sources <b>out of UI thread</b>, ensuring that your app runs smoothly.
    </li>
    <li>
        <b>Image auto and manual downsampling.</b> This library keeps memory usage of your app low by loading images in just the scale and size you need, only specifying Image holder's size (Or a manual downsample rate). If device is still unable to load image due to low memory available, render methods will automatically recalculate image downsample for it to successfully fit on device's memory, <b>avoiding that annoying OutOfMemoryError</b>
    </li>
    <li>
        <b>Image auto caching.</b> Rendering methods automatically save rendered Bitmaps in memory and disk caches using dual cache EpicBitmapCache. If an image is previously rendered, next time it will be extracted from cache if available, and it will be used instead of re-rendering Bitmap from source again. This entire process is automatic, as render methods handle cache themselves, and saves a lot of memory consumption from heavy processes like rendering images from disk or internet.
    </li>
</ul>

<h2>
<a id="how-to-use-epic-bitmap-renderer-in-your-app" class="anchor" href="#how-to-use-epic-bitmap-renderer-in-your-app" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to use Epic Bitmap Renderer in your app</h2>

<p>The Android Studio Project contains a "samples" app module with a single Main Activity, that can be installed on an Android device or virtual machine to test library functions. It contains all the code required for importing, initializing and calling the library on your own app, as well as examples of library decoding methods calls.</p>

<h3>
<a id="1--importing-library" class="anchor" href="#1--importing-library" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.- Importing library</h3>

<p>First of all, you need to import EpicBitmapRenderer library into your proyect, available on Bintray JCenter and Maven Central repositories. There are several ways to do this depending on your IDE and your project configuration</p>

<p>Gradle:</p>

<div class="highlight highlight-source-groovy"><pre>compile <span class="pl-s"><span class="pl-pds">'</span>com.isaacrf.epicbitmaprenderer:epicbitmaprenderer:1.0<span class="pl-pds">'</span></span></pre></div>

<p>Maven:</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">dependency</span>&gt;
  &lt;<span class="pl-ent">groupId</span>&gt;com.isaacrf.epicbitmaprenderer&lt;/<span class="pl-ent">groupId</span>&gt;
  &lt;<span class="pl-ent">artifactId</span>&gt;epicbitmaprenderer&lt;/<span class="pl-ent">artifactId</span>&gt;
  &lt;<span class="pl-ent">version</span>&gt;1.0&lt;/<span class="pl-ent">version</span>&gt;
  &lt;<span class="pl-ent">type</span>&gt;pom&lt;/<span class="pl-ent">type</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;</pre></div>

<p>Ivy:</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">dependency</span> <span class="pl-e">org</span>=<span class="pl-s"><span class="pl-pds">'</span>com.isaacrf.epicbitmaprenderer<span class="pl-pds">'</span></span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">'</span>epicbitmaprenderer<span class="pl-pds">'</span></span> <span class="pl-e">rev</span>=<span class="pl-s"><span class="pl-pds">'</span>1.0<span class="pl-pds">'</span></span>&gt;
  &lt;<span class="pl-ent">artifact</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">'</span>$AID<span class="pl-pds">'</span></span> <span class="pl-e">ext</span>=<span class="pl-s"><span class="pl-pds">'</span>pom<span class="pl-pds">'</span></span>&gt;&lt;/<span class="pl-ent">artifact</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;</pre></div>

<p>You can also manually download library .aar file (.jar + Android dependencies) and javadocs from <a href="https://bintray.com/isaacrf/maven/EpicBitmapRenderer/1.0">EpicBitmapRenderer JCenter repository</a>, add files to your project libs folder, and import the library using your IDE or Gradle, adding the following to your module's build.gradle script:</p>

<div class="highlight highlight-source-groovy"><pre>repositories {
    flatDir {
        dirs <span class="pl-s"><span class="pl-pds">'</span>libs<span class="pl-pds">'</span></span>
    }
}

dependencies {
    compile fileTree(<span class="pl-c1">dir</span>: <span class="pl-s"><span class="pl-pds">'</span>libs<span class="pl-pds">'</span></span>, <span class="pl-c1">include</span>: [<span class="pl-s"><span class="pl-pds">'</span>*.jar<span class="pl-pds">'</span></span>])
    testCompile <span class="pl-s"><span class="pl-pds">'</span>junit:junit:4.12<span class="pl-pds">'</span></span>
    compile(<span class="pl-c1">name</span>:<span class="pl-s"><span class="pl-pds">'</span>epicbitmaprenderer-1.0<span class="pl-pds">'</span></span>, <span class="pl-c1">ext</span>:<span class="pl-s"><span class="pl-pds">'</span>aar<span class="pl-pds">'</span></span>)       <span class="pl-c">//Add .aar file to libs/ and use folder as repository</span>
}</pre></div>

<h3>
<a id="2--initializing-library" class="anchor" href="#2--initializing-library" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2.- Initializing library</h3>

<p>Once EpicBitmapRenderer is succesfully imported into your project, you will have access to EpicBitmapRenderer class and its statics methods to decode and render Bitmaps on your app</p>

<p>EpicBitmapLibrary uses a dual memory and disk cache to improve image decoding and rendering process, memory cache is automatically initialized when library is loaded, but disk cache requires context to know your app's own cache folder and create it, so it needs to be manually initialized. <b>(I'm looking for ways to avoid this step and automatize the process, see "Known issues / todo features list" into "Contributing" section for more info)</b></p>

<p>So the first step is to initialize disk cache, calling this method on your code (You have to call this method just once in the entire app life cycle). If disk cache is not initialized, <b>the library will continue to function properly and storing decoded images on memory cache.</b></p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">//Pass context as parameter. You can use "this" inside an Activity, or "ActivityName.this" in other levels </span>
<span class="pl-smi">EpicBitmapRenderer</span><span class="pl-k">.</span>initDiskCache(<span class="pl-v">this</span>);</pre></div>

<p>To decode Bitmaps from files or URLs, your app may need to request special permissions</p>

<h3>
<a id="3--decoding-bitmaps" class="anchor" href="#3--decoding-bitmaps" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>3.- Decoding Bitmaps</h3>

<p>EpicBitmapRenderer is a static class containing static methods, so you don't need to instantiate the library to use it. Here is one example, extracted from samples app, of calling a method to decode a Bitmap from a resource of your app and show it on an ImageView, or handle the decoding error if one occurs.</p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">//Sample 1: Decode Bitmap from Resource app icon, downsample if needed to fit in 200x200 ImageView,  (Async)</span>
<span class="pl-smi">EpicBitmapRenderer</span><span class="pl-k">.</span>decodeBitmapFromResource(getResources(), <span class="pl-smi">R</span><span class="pl-k">.</span>mipmap<span class="pl-k">.</span>ic_launcher, <span class="pl-c1">200</span>, <span class="pl-c1">200</span>,
        <span class="pl-k">new</span> <span class="pl-smi">OnBitmapRendered</span>() {
            <span class="pl-k">@Override</span>
            <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onBitmapRendered</span>(<span class="pl-smi">Bitmap</span> <span class="pl-v">bitmap</span>) {
                <span class="pl-c">//Display rendered Bitmap when successfully decoded</span>
                ((<span class="pl-smi">ImageView</span>) findViewById(<span class="pl-smi">R</span><span class="pl-k">.</span>id<span class="pl-k">.</span>imgSampleDecodeResource))<span class="pl-k">.</span>setImageBitmap(bitmap);
            }
        },
        <span class="pl-k">new</span> <span class="pl-smi">OnBitmapRenderFailed</span>() {
            <span class="pl-k">@Override</span>
            <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onBitmapRenderFailed</span>(<span class="pl-smi">Exception</span> <span class="pl-v">e</span>) {
                <span class="pl-c">//Take actions if Bitmap fails to render</span>
                <span class="pl-smi">Toast</span><span class="pl-k">.</span>makeText(<span class="pl-smi">MainActivity</span><span class="pl-k">.</span><span class="pl-v">this</span>, <span class="pl-s"><span class="pl-pds">"</span>Failed to load Bitmap from Resource: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> e<span class="pl-k">.</span>getMessage(), <span class="pl-smi">Toast</span><span class="pl-c1"><span class="pl-k">.</span>LENGTH_SHORT</span>)<span class="pl-k">.</span>show();
            }
        });</pre></div>

<p>That's it. EpicBitmapRenderer decodes the Bitmap asynchronously in a worker thread, stores it in memory and disk cache, and returns decoded Bitmap at the end of the process on the onBitmapRendered(Bitmap) callback if successful. Further calls to render methods pointing to the same resource, will obtain the decoded Bitmap from memory or disk cache if available, instead of rendering the resource again, saving memory usage.</p>

<p>Almost every decoding method has an alternate, overloaded synchronous method (same arguments without callbacks) in case you need them, but it's not recommended as they run on UI thread and can freeze the app. Here is the same example as before, calling the synchronous method:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">Bitmap</span> decodedBitmap <span class="pl-k">=</span> <span class="pl-smi">EpicBitmapRenderer</span><span class="pl-k">.</span>decodeBitmapFromResource(getResources(), <span class="pl-smi">R</span><span class="pl-k">.</span>mipmap<span class="pl-k">.</span>ic_launcher, <span class="pl-c1">200</span>, <span class="pl-c1">200</span>);
((<span class="pl-smi">ImageView</span>) findViewById(<span class="pl-smi">R</span><span class="pl-k">.</span>id<span class="pl-k">.</span>imgSampleDecodeResource))<span class="pl-k">.</span>setImageBitmap(decodedBitmap);</pre></div>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h2>

<p>You can help improve EpicBmRenderer in many ways, some of which are:</p>

<ul>
    <li>Adding new image decode methods from different kind of sources to different kind of image formats</li>
    <li>Improving cache and other core elements functionality</li>
    <li>Reporting and / or fixing bugs, issues, etc.</li>
</ul>

<p>Just fork the project, modify, and make a pull request to master Branch. Please, follow library structure when contributing and try to keep the same coding style as the rest of the code.</p>

<p>If you add a new decoding method, please add an example of usage in samples app module as well, and update the documentation to match any changes you make.</p>

<h3>
<a id="1--project-structure" class="anchor" href="#1--project-structure" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.- Project Structure</h3>

<p>In process...</p>

<h3>
<a id="2--known-issues--todo-features-list" class="anchor" href="#2--known-issues--todo-features-list" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2.- Known issues / todo features list</h3>

<ul>
    <li>[ ! ] Find a way to initialize disk cache automatically on EpicBitmapCache (needs application context), without asking the user to call a method (initDiskCache) passing Context as parameter. Context is just used to retrieve app's cache dir</li>
    <li>[ ! ] Allow to clear cache or force rendering from source skipping cache check task</li>
    <li>[~] Allow to enable / disable automatic image caching</li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/IsaacRF/EpicBitmapRenderer">EpicBitmapRenderer</a> is maintained by <a href="https://github.com/IsaacRF">IsaacRF</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
